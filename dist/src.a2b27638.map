{"version":3,"sources":["src/react-dom/render.js","src/react/component.js","src/react/createElement.js","src/react/index.js","src/react-dom/index.js","src/app.js","src/index.js"],"names":["setAttribute","dom","name","value","test","toLowerCase","node","style","cssText","removeAttribute","createComponent","component","props","inst","prototype","render","Component","constructor","setComponentProps","base","componentWillMount","componentWillReceiveProps","renderComponent","renderer","componentWillUpdate","_render","componentDidUpdate","componentDidMount","parentNode","replaceChild","_component","vnode","undefined","String","textNode","document","createTextNode","tag","attrs","createElement","Object","keys","forEach","key","children","child","container","appendChild","isReactComponent","state","stateChange","assign","Counter","React","ReactDOM","getElementById"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["import Component from '../react/component';\r\n\r\nexport function setAttribute(dom, name, value) {\r\n    if (name === 'className') name = 'class';\r\n\r\n    if (/on\\w+/.test(name)) {\r\n        name = name.toLowerCase();\r\n        dom[name] = value || '';\r\n    } else if (name === 'style') {\r\n        if (!value || typeof value === 'string') {\r\n            node.style.cssText = value || '';\r\n        } else if (value && typeof value === 'object') {\r\n            for (let name in value) {\r\n                dom.style[name] = typeof value[name] === 'number' ? value[name] + 'px' : value[name];\r\n            }\r\n        }\r\n    } else {\r\n        if (name in dom) {\r\n            dom[name] = value || '';\r\n        }\r\n        if (value) {\r\n            dom.setAttribute(name, value);\r\n        } else {\r\n            dom.removeAttribute(name, value);\r\n        }\r\n    }\r\n}\r\n\r\nexport function createComponent(component, props) {\r\n    let inst;\r\n    if (component.prototype && component.prototype.render) {\r\n        inst = new component(props);\r\n    } else {\r\n        inst = new Component(props);\r\n        inst.constructor = component;\r\n        inst.render = function () {\r\n            return this.constructor(props);\r\n        }\r\n    }\r\n\r\n    return inst;\r\n}\r\n\r\n\r\nexport function setComponentProps(component, props) {\r\n    if (!component.base) {\r\n        if (component.componentWillMount) component.componentWillMount();\r\n    } else if (component.componentWillReceiveProps) {\r\n        component.componentWillReceiveProps(props);\r\n    }\r\n    component.props = props;\r\n    renderComponent(component);\r\n}\r\n\r\nexport function renderComponent(component) {\r\n    let base;\r\n    const renderer = component.render();\r\n    if (component.base && component.componentWillUpdate) {\r\n        component.componentWillUpdate()\r\n    }\r\n    base = _render(renderer);\r\n    if (component.base) {\r\n        if (component.componentDidUpdate) component.componentDidUpdate();\r\n    } else if (component.componentDidMount) {\r\n        component.componentDidMount();\r\n    }\r\n    if (component.base && component.base.parentNode) {\r\n        component.base.parentNode.replaceChild(base, component.base);\r\n    }\r\n    component.base = base;\r\n    base._component = component;\r\n}\r\n\r\nfunction _render(vnode) {\r\n    if (vnode === undefined || vnode === null || typeof vnode === 'boolean') vnode = '';\r\n    if (typeof vnode === 'number') vnode = String(vnode);\r\n    if (typeof vnode === 'string') {\r\n        let textNode = document.createTextNode(vnode);\r\n        return textNode;\r\n    }\r\n    if (typeof vnode.tag === 'function') {\r\n        const component = createComponent(vnode.tag, vnode.attrs);\r\n        setComponentProps(component, vnode.attrs);\r\n        return component.base;\r\n    }\r\n    const dom = document.createElement(vnode.tag);\r\n    if (vnode.attrs) {\r\n        Object.keys(vnode.attrs).forEach(key => {\r\n            const value = vnode.attrs[key];\r\n            setAttribute(dom, key, value);\r\n        });\r\n    }\r\n    if (vnode.children) {\r\n        vnode.children.forEach(child => render(child, dom));\r\n    }\r\n    return dom;\r\n}\r\n\r\nexport function render(vnode, container) {\r\n    return container.appendChild(_render(vnode));\r\n}","import { renderComponent } from '../react-dom/render';\r\n\r\nclass Component {\r\n    constructor(props = {}) {\r\n        this.isReactComponent = true;\r\n\r\n        this.state = {};\r\n        this.props = props;\r\n    }\r\n    setState(stateChange) {\r\n        Object.assign(this.state, stateChange);\r\n        renderComponent(this);\r\n    }\r\n}\r\n\r\nexport default Component;","function createElement(tag, attrs, ...children) {\r\n    return {\r\n        tag,\r\n        attrs,\r\n        children\r\n    }\r\n}\r\n\r\nexport default createElement;","import Component from './component';\r\nimport createElement from './createElement';\r\n\r\nexport default {\r\n    Component,\r\n    createElement\r\n}","import { render, renderComponent } from './render';\r\n\r\nexport default {\r\n    render,\r\n    renderComponent,\r\n}","\r\nimport React from './react'\r\n\r\nexport default class Counter extends React.Component {\r\n    render() {\r\n        return <h1>Hello,World!</h1>;\r\n    }\r\n}","import React from './react'\r\nimport ReactDOM from './react-dom'\r\nimport App from './app.js'\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"]}